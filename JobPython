import sqlite3

def create_tables():
   conn = sqlite3.connect("clients.db")
   c = conn.cursor()
   c.execute("CREATE TABLE IF NOT EXISTS clients (id INTEGER PRIMARY KEY, name TEXT, surname TEXT, email TEXT, phones TEXT)")
   c.execute("CREATE TABLE IF NOT EXISTS phones (id INTEGER PRIMARY KEY, client_id INTEGER, phone TEXT)")
   conn.commit()
   conn.close()

def add_client(name, surname, email):
   conn = sqlite3.connect("clients.db")
   c = conn.cursor()
   c.execute("INSERT INTO clients (name, surname, email) VALUES (?, ?, ?)", (name, surname, email))
   conn.commit()
   conn.close()

def add_phone(client_id, phone):
   conn = sqlite3.connect("clients.db")
   c = conn.cursor()
   c.execute("INSERT INTO phones (client_id, phone) VALUES (?, ?)", (client_id, phone))
   conn.commit()
   conn.close()

def update_client(client_id, name, surname, email):
   conn = sqlite3.connect("clients.db")
   c = conn.cursor()
   c.execute("UPDATE clients SET name = ?, surname = ?, email = ? WHERE id = ?", (name, surname, email, client_id))
   conn.commit()
   conn.close()

def delete_phone(client_id, phone_id):
   conn = sqlite3.connect("clients.db")
   c = conn.cursor()
   c.execute("DELETE FROM phones WHERE id = ? AND client_id = ?", (phone_id, client_id))
   conn.commit()
   conn.close()

def delete_client(client_id):
   conn = sqlite3.connect("clients.db")
   c = conn.cursor()
   c.execute("DELETE FROM clients WHERE id = ?", (client_id,))
   conn.commit()
   conn.close()
   
def search_client(name, surname, email, phone):
   conn = sqlite3.connect("clients.db")
   c = conn.cursor()
   query = "SELECT * FROM clients WHERE name LIKE ? AND surname LIKE ? AND email LIKE ? AND phones LIKE ?"
   parameters = ('%' + name + '%', '%' + surname + '%', '%' + email + '%', '%' + phone + '%')
   c.execute(query, parameters)
   result = c.fetchall()
   conn.close()
   return result

create_tables()
add_client("John", "Doe", "johndoe@example.com")
add_phone(1, "1234567890")
add_phone(1, "9876543210")
update_client(1, "Jane", "Doe", "janedoe@example.com")
delete_phone(1, 2)
delete_client(1)

result = search_client("Jane", "Doe", "janedoe@example.com", "1234567890")
print(result)
